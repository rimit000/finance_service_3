<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeoJSON ê¸°ë°˜ ëŒ€ë¥™ë³„ í´ë¦­ ê°€ëŠ¥í•œ ì„¸ê³„ì§€ë„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            overflow: hidden;
        }
        
        .header {
            text-align: center;
            padding: 40px;
            background: linear-gradient(45deg, #2196F3, #21CBF3);
            color: white;
        }
        
        .header h1 {
            margin: 0 0 10px 0;
            font-size: 2.8em;
            font-weight: 300;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .map-container {
            position: relative;
            padding: 40px;
            text-align: center;
            background: #f8f9fa;
        }
        
        .world-map {
            width: 100%;
            max-width: 1000px;
            height: auto;
            background: #e3f2fd;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .continent {
            transition: all 0.3s ease;
            cursor: pointer;
            stroke: #ffffff;
            stroke-width: 1;
        }
        
        .continent:hover {
            filter: brightness(1.1) drop-shadow(0 0 10px rgba(0,0,0,0.3));
            stroke-width: 2;
        }

        .continent.selected {
            filter: brightness(1.2) drop-shadow(0 0 15px rgba(0,0,0,0.4));
            stroke-width: 3;
            stroke: #ff6b6b;
        }
        
        /* ëŒ€ë¥™ë³„ ìƒ‰ìƒ */
        .antarctica { fill: #74B9FF; }
        .asia { fill: #FECA57; }
        .south-america { fill: #4ECDC4; }
        .north-america { fill: #FF6B6B; }
        .europe { fill: #45B7D1; }
        .oceania { fill: #FF9FF3; }
        .africa { fill: #96CEB4; }
        
        .info-panel {
            margin-top: 40px;
            padding: 30px;
            background: white;
            border-radius: 15px;
            min-height: 200px;
            transition: all 0.5s ease;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .continent-info {
            display: none;
        }
        
        .continent-info.active {
            display: block;
            animation: fadeInUp 0.6s ease;
        }
        
        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        .continent-title {
            font-size: 2.2em;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: bold;
            text-align: center;
        }
        
        .continent-details {
            font-size: 1.1em;
            line-height: 1.8;
            color: #555;
            text-align: left;
        }

        .continent-details strong {
            color: #2c3e50;
        }
        
        .legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 30px;
            padding: 0 20px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            background: white;
            border-radius: 25px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .legend-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 25px rgba(0,0,0,0.15);
            border-color: #ddd;
        }

        .legend-item.selected {
            border-color: #ff6b6b;
            background: #fff5f5;
        }
        
        .legend-color {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid rgba(255,255,255,0.8);
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .legend-text {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .default-info {
            text-align: center;
            color: #7f8c8d;
            font-size: 1.3em;
            padding: 60px 40px;
            font-style: italic;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid #3498db;
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #2c3e50;
            display: block;
        }

        .stat-label {
            font-size: 0.9em;
            color: #7f8c8d;
            margin-top: 5px;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
            font-size: 1.2em;
        }

        .error {
            text-align: center;
            padding: 40px;
            color: #e74c3c;
            font-size: 1.1em;
            background: #ffeaa7;
            border-radius: 10px;
            margin: 20px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŒ Interactive World Map</h1>
            <p>Flask + GeoJSON ê¸°ë°˜ ëŒ€ë¥™ë³„ ì„¸ê³„ì§€ë„</p>
        </div>
        
        <div class="map-container">
            <div class="loading" id="loading">
                <div class="spinner"></div>
                ì§€ë„ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
            </div>
            <svg class="world-map" id="worldMap" style="display: none;" viewBox="-180 -90 360 180" xmlns="http://www.w3.org/2000/svg">
                <!-- ëŒ€ë¥™ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </svg>
            
            <div class="legend" id="legend" style="display: none;">
                <!-- ë²”ë¡€ê°€ ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>
        </div>
        
        <div class="info-panel">
            <div class="default-info">
                ëŒ€ë¥™ì„ í´ë¦­í•˜ê±°ë‚˜ ë²”ë¡€ë¥¼ ì„ íƒí•˜ì—¬ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”
            </div>
            
            <div class="continent-info" id="antarctica">
                <div class="continent-title">ğŸ§ ë‚¨ê·¹ ëŒ€ë¥™ (Antarctica)</div>
                <div class="continent-details">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-value">1,400ë§Œ</span>
                            <span class="stat-label">ë©´ì  (kmÂ²)</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">1,000-5,000</span>
                            <span class="stat-label">ì—°êµ¬ì§„ ìˆ˜ (ê³„ì ˆë³„)</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">-89Â°C</span>
                            <span class="stat-label">ìµœì € ê¸°ì˜¨</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">98%</span>
                            <span class="stat-label">ì–¼ìŒ ë®ì¸ ë¹„ìœ¨</span>
                        </div>
                    </div>
                    <br>
                    <strong>íŠ¹ì§•:</strong> ì§€êµ¬ì—ì„œ ê°€ì¥ ì¶¥ê³  ê±´ì¡°í•œ ëŒ€ë¥™ìœ¼ë¡œ, ì „ ì„¸ê³„ ë‹´ìˆ˜ì˜ ì•½ 70%ê°€ ì–¼ìŒ í˜•íƒœë¡œ ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤. 
                    ê³¼í•™ ì—°êµ¬ì˜ ì¤‘ìš”í•œ ê±°ì ì´ë©°, ë‚¨ê·¹ ì¡°ì•½ì— ì˜í•´ í‰í™”ì  ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤.
                    <br><br>
                    <strong>ì£¼ìš” ì—°êµ¬ ê¸°ì§€:</strong> ë§¥ë¨¸ë„ ê¸°ì§€(ë¯¸êµ­), ë¡œí…Œë¼ ê¸°ì§€(ì•„ë¥´í—¨í‹°ë‚˜), ì„¸ì¢…ê³¼í•™ê¸°ì§€(í•œêµ­) ë“±
                </div>
            </div>
            
            <div class="continent-info" id="asia">
                <div class="continent-title">ğŸ”ï¸ ì•„ì‹œì•„ (Asia)</div>
                <div class="continent-details">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-value">4,460ë§Œ</span>
                            <span class="stat-label">ë©´ì  (kmÂ²)</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">46ì–µ</span>
                            <span class="stat-label">ì¸êµ¬</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">48ê°œ</span>
                            <span class="stat-label">êµ­ê°€ ìˆ˜</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">60%</span>
                            <span class="stat-label">ì„¸ê³„ ì¸êµ¬ ë¹„ìœ¨</span>
                        </div>
                    </div>
                    <br>
                    <strong>ì£¼ìš” êµ­ê°€:</strong> ì¤‘êµ­, ì¸ë„, ì¼ë³¸, í•œêµ­, ì¸ë„ë„¤ì‹œì•„, ëŸ¬ì‹œì•„ ë“±
                    <br><br>
                    <strong>íŠ¹ì§•:</strong> ì„¸ê³„ì—ì„œ ê°€ì¥ í¬ê³  ì¸êµ¬ê°€ ë§ì€ ëŒ€ë¥™ìœ¼ë¡œ, ê¸‰ì†í•œ ê²½ì œ ë°œì „ê³¼ ê¸°ìˆ  í˜ì‹ ì„ ì´ë£¨ê³  ìˆìŠµë‹ˆë‹¤. 
                    ë‹¤ì–‘í•œ ë¬¸í™”ì™€ ì¢…êµê°€ ê³µì¡´í•˜ë©°, ì„¸ê³„ ê²½ì œì˜ ì¤‘ì‹¬ì§€ë¡œ ë¶€ìƒí•˜ê³  ìˆìŠµë‹ˆë‹¤.
                    <br><br>
                    <strong>ì£¼ìš” íŠ¹ì§•:</strong> íˆë§ë¼ì•¼ ì‚°ë§¥, ì‹¤í¬ë¡œë“œ, K-popê³¼ í•œë¥˜, ì œì¡°ì—… í—ˆë¸Œ
                </div>
            </div>
            
            <div class="continent-info" id="south-america">
                <div class="continent-title">ğŸŒ´ ë‚¨ë¯¸ (South America)</div>
                <div class="continent-details">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-value">1,780ë§Œ</span>
                            <span class="stat-label">ë©´ì  (kmÂ²)</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">4ì–µ 3ì²œë§Œ</span>
                            <span class="stat-label">ì¸êµ¬</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">12ê°œ</span>
                            <span class="stat-label">êµ­ê°€ ìˆ˜</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">60%</span>
                            <span class="stat-label">ì•„ë§ˆì¡´ì´ ì°¨ì§€í•˜ëŠ” ë¹„ìœ¨</span>
                        </div>
                    </div>
                    <br>
                    <strong>ì£¼ìš” êµ­ê°€:</strong> ë¸Œë¼ì§ˆ, ì•„ë¥´í—¨í‹°ë‚˜, ì½œë¡¬ë¹„ì•„, í˜ë£¨, ì¹ ë ˆ ë“±
                    <br><br>
                    <strong>íŠ¹ì§•:</strong> ì•„ë§ˆì¡´ ì—´ëŒ€ìš°ë¦¼ê³¼ ì•ˆë°ìŠ¤ ì‚°ë§¥ìœ¼ë¡œ ìœ ëª…í•œ ìƒë¬¼ ë‹¤ì–‘ì„±ì˜ ë³´ê³ ì…ë‹ˆë‹¤. 
                    í’ë¶€í•œ ì²œì—°ìì›ê³¼ ë…íŠ¹í•œ ë¬¸í™”ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©°, ì¶•êµ¬ì™€ ì‚¼ë°”, íƒ±ê³  ë“±ì˜ ë¬¸í™”ë¡œë„ ìœ ëª…í•©ë‹ˆë‹¤.
                    <br><br>
                    <strong>ìì—° ìœ ì‚°:</strong> ì•„ë§ˆì¡´ ìš°ë¦¼, ê°ˆë¼íŒŒê³ ìŠ¤ ì œë„, ì´ê³¼ìˆ˜ í­í¬, ë§ˆì¶”í”½ì¶”
                </div>
            </div>
            
            <div class="continent-info" id="north-america">
                <div class="continent-title">ğŸ ë¶ë¯¸ (North America)</div>
                <div class="continent-details">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-value">2,470ë§Œ</span>
                            <span class="stat-label">ë©´ì  (kmÂ²)</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">5ì–µ 8ì²œë§Œ</span>
                            <span class="stat-label">ì¸êµ¬</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">23ê°œ</span>
                            <span class="stat-label">êµ­ê°€ ìˆ˜</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">25%</span>
                            <span class="stat-label">ì„¸ê³„ GDP ë¹„ìœ¨</span>
                        </div>
                    </div>
                    <br>
                    <strong>ì£¼ìš” êµ­ê°€:</strong> ë¯¸êµ­, ìºë‚˜ë‹¤, ë©•ì‹œì½”, ê³¼í…Œë§ë¼ ë“±
                    <br><br>
                    <strong>íŠ¹ì§•:</strong> ì„¸ê³„ ìµœëŒ€ ê²½ì œ ê·œëª¨ë¥¼ ìë‘í•˜ë©°, ê¸°ìˆ  í˜ì‹ ê³¼ ë¬¸í™” ì‚°ì—…ì˜ ì¤‘ì‹¬ì§€ì…ë‹ˆë‹¤. 
                    ë‹¤ì–‘í•œ ê¸°í›„ì™€ ì§€í˜•ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, ì´ë¯¼ìë“¤ë¡œ êµ¬ì„±ëœ ë‹¤ë¬¸í™” ì‚¬íšŒë¥¼ í˜•ì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤.
                    <br><br>
                    <strong>ì£¼ìš” ë„ì‹œ:</strong> ë‰´ìš•, ë¡œìŠ¤ì•¤ì ¤ë ˆìŠ¤, í† ë¡ í† , ë©•ì‹œì½”ì‹œí‹°
                </div>
            </div>
            
            <div class="continent-info" id="europe">
                <div class="continent-title">ğŸ° ìœ ëŸ½ (Europe)</div>
                <div class="continent-details">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-value">1,020ë§Œ</span>
                            <span class="stat-label">ë©´ì  (kmÂ²)</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">7ì–µ 5ì²œë§Œ</span>
                            <span class="stat-label">ì¸êµ¬</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">50ê°œ</span>
                            <span class="stat-label">êµ­ê°€ ìˆ˜</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">27ê°œ</span>
                            <span class="stat-label">EU íšŒì›êµ­</span>
                        </div>
                    </div>
                    <br>
                    <strong>ì£¼ìš” êµ­ê°€:</strong> ë…ì¼, í”„ë‘ìŠ¤, ì˜êµ­, ì´íƒˆë¦¬ì•„, ìŠ¤í˜ì¸, ëŸ¬ì‹œì•„ ë“±
                    <br><br>
                    <strong>íŠ¹ì§•:</strong> í’ë¶€í•œ ì—­ì‚¬ì™€ ë¬¸í™”ìœ ì‚°ì„ ê°€ì§„ ëŒ€ë¥™ìœ¼ë¡œ í˜„ëŒ€ ë¬¸ëª…ì˜ ë°œìƒì§€ì…ë‹ˆë‹¤. 
                    ë¥´ë„¤ìƒìŠ¤, ê³„ëª½ì£¼ì˜, ì‚°ì—…í˜ëª… ë“± ì¸ë¥˜ ì—­ì‚¬ì˜ ì¤‘ìš”í•œ ì „í™˜ì ë“¤ì´ ì¼ì–´ë‚œ ê³³ì…ë‹ˆë‹¤.
                    <br><br>
                    <strong>ë¬¸í™”ìœ ì‚°:</strong> ì½œë¡œì„¸ì›€, ì—í íƒ‘, íŒŒë¥´í…Œë…¼ ì‹ ì „, ë² ë¥´ì‚¬ìœ  ê¶ì „
                </div>
            </div>
            
            <div class="continent-info" id="oceania">
                <div class="continent-title">ğŸ¦˜ ì˜¤ì„¸ì•„ë‹ˆì•„ (Oceania)</div>
                <div class="continent-details">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-value">850ë§Œ</span>
                            <span class="stat-label">ë©´ì  (kmÂ²)</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">4,500ë§Œ</span>
                            <span class="stat-label">ì¸êµ¬</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">14ê°œ</span>
                            <span class="stat-label">êµ­ê°€ ìˆ˜</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">10,000+</span>
                            <span class="stat-label">ì„¬ì˜ ê°œìˆ˜</span>
                        </div>
                    </div>
                    <br>
                    <strong>ì£¼ìš” êµ­ê°€:</strong> í˜¸ì£¼, ë‰´ì§ˆëœë“œ, íŒŒí‘¸ì•„ë‰´ê¸°ë‹ˆ, í”¼ì§€, í†µê°€ ë“±
                    <br><br>
                    <strong>íŠ¹ì§•:</strong> ë…íŠ¹í•œ ìƒíƒœê³„ì™€ ì•„ë¦„ë‹¤ìš´ ìì—°ê²½ê´€ìœ¼ë¡œ ìœ ëª…í•œ ëŒ€ë¥™ì…ë‹ˆë‹¤. 
                    ê³ ë¦½ëœ ì§€ë¦¬ì  ìœ„ì¹˜ë¡œ ì¸í•´ ìº¥ê±°ë£¨, ì½”ì•Œë¼ ë“± íŠ¹ë³„í•œ ë™ë¬¼ë“¤ì´ ì„œì‹í•˜ê³  ìˆìŠµë‹ˆë‹¤.
                    <br><br>
                    <strong>ìì—° ëª…ì†Œ:</strong> ê·¸ë ˆì´íŠ¸ ë°°ë¦¬ì–´ ë¦¬í”„, ìš¸ë£¨ë£¨, ë°€í¬ë“œ ì‚¬ìš´ë“œ
                </div>
            </div>
            
            <div class="continent-info" id="africa">
                <div class="continent-title">ğŸ¦ ì•„í”„ë¦¬ì¹´ (Africa)</div>
                <div class="continent-details">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-value">3,020ë§Œ</span>
                            <span class="stat-label">ë©´ì  (kmÂ²)</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">13ì–µ</span>
                            <span class="stat-label">ì¸êµ¬</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">54ê°œ</span>
                            <span class="stat-label">êµ­ê°€ ìˆ˜</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">2,000+</span>
                            <span class="stat-label">ì–¸ì–´ ìˆ˜</span>
                        </div>
                    </div>
                    <br>
                    <strong>ì£¼ìš” êµ­ê°€:</strong> ë‚˜ì´ì§€ë¦¬ì•„, ì´ì§‘íŠ¸, ë‚¨ì•„í”„ë¦¬ì¹´ê³µí™”êµ­, ì¼€ëƒ, ì—í‹°ì˜¤í”¼ì•„ ë“±
                    <br><br>
                    <strong>íŠ¹ì§•:</strong> ì¸ë¥˜ì˜ ë°œìƒì§€ì´ë©° ì„¸ê³„ì—ì„œ ë‘ ë²ˆì§¸ë¡œ í° ëŒ€ë¥™ì…ë‹ˆë‹¤. 
                    í’ë¶€í•œ ì²œì—°ìì›ê³¼ ë‹¤ì–‘í•œ ë¬¸í™”, ê·¸ë¦¬ê³  ë†€ë¼ìš´ ì•¼ìƒë™ë¬¼ë¡œ ìœ ëª…í•©ë‹ˆë‹¤.
                    <br><br>
                    <strong>ìì—° ìœ ì‚°:</strong> ì‚¬í•˜ë¼ ì‚¬ë§‰, ë‚˜ì¼ê°•, í‚¬ë¦¬ë§Œìë¡œ, ì„¸ë ê²Œí‹° êµ­ë¦½ê³µì›
                </div>
            </div>
        </div>
    </div>

    <script>
        // ëŒ€ë¥™ë³„ ìƒ‰ìƒ ë§¤í•‘
        const continentColors = {
            'antarctica': '#74B9FF',
            'asia': '#FECA57',
            'south-america': '#4ECDC4',
            'north-america': '#FF6B6B',
            'europe': '#45B7D1',
            'oceania': '#FF9FF3',
            'africa': '#96CEB4'
        };

        // ëŒ€ë¥™ë³„ í•œêµ­ì–´ ì´ë¦„
        const continentNames = {
            'antarctica': 'ë‚¨ê·¹ ëŒ€ë¥™',
            'asia': 'ì•„ì‹œì•„',
            'south-america': 'ë‚¨ë¯¸',
            'north-america': 'ë¶ë¯¸',
            'europe': 'ìœ ëŸ½',
            'oceania': 'ì˜¤ì„¸ì•„ë‹ˆì•„',
            'africa': 'ì•„í”„ë¦¬ì¹´'
        };

        let selectedContinent = null;

        // GeoJSON íŒŒì¼ ì½ê¸° ë° ì§€ë„ ìƒì„±
        async function loadMap() {
            try {
                console.log('ì§€ë„ ë°ì´í„° ë¡œë”© ì‹œì‘...');
                
                // Fetch APIë¥¼ ì‚¬ìš©í•˜ì—¬ Flask ì„œë²„ì—ì„œ GeoJSON íŒŒì¼ ê°€ì ¸ì˜¤ê¸°
                const response = await fetch('/data/continent-low.geo.json');
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const geoData = await response.json();
                console.log('GeoJSON ë°ì´í„° ë¡œë“œ ì™„ë£Œ:', geoData);
                
                // ì§€ë„ ìƒì„±
                createMap(geoData);
                
                // ë¡œë”© ìˆ¨ê¸°ê³  ì§€ë„ í‘œì‹œ
                document.getElementById('loading').style.display = 'none';
                document.getElementById('worldMap').style.display = 'block';
                document.getElementById('legend').style.display = 'grid';
                
                console.log('ì§€ë„ ìƒì„± ì™„ë£Œ!');
                
            } catch (error) {
                console.error('íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);
                document.getElementById('loading').innerHTML = `
                    <div class="error">
                        âš ï¸ ì§€ë„ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>
                        ì˜¤ë¥˜: ${error.message}<br>
                        <small>GeoJSON íŒŒì¼ì´ ì˜¬ë°”ë¥¸ ìœ„ì¹˜(/data/continent-low.geo.json)ì— ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.</small>
                    </div>
                `;
            }
        }

        // ì¢Œí‘œë¥¼ SVG pathë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜
        function coordinatesToPath(coordinates) {
            let path = '';
            
            if (coordinates[0] && Array.isArray(coordinates[0][0])) {
                // MultiPolygon ì²˜ë¦¬
                coordinates.forEach(polygon => {
                    polygon.forEach((ring, ringIndex) => {
                        ring.forEach((coord, index) => {
                            const [lng, lat] = coord;
                            const command = index === 0 ? 'M' : 'L';
                            path += `${command}${lng},${-lat} `;
                        });
                        path += 'Z ';
                    });
                });
            } else {
                // Polygon ì²˜ë¦¬
                coordinates.forEach((ring, ringIndex) => {
                    ring.forEach((coord, index) => {
                        const [lng, lat] = coord;
                        const command = index === 0 ? 'M' : 'L';
                        path += `${command}${lng},${-lat} `;
                    });
                    path += 'Z ';
                });
            }
            
            return path.trim();
        }

        // ì§€ë„ ìƒì„± í•¨ìˆ˜
        function createMap(geoData) {
            console.log('ì§€ë„ ìƒì„± í•¨ìˆ˜ ì‹¤í–‰...');
            const svg = document.getElementById('worldMap');
            const legendContainer = document.getElementById('legend');
            
            // ê° ëŒ€ë¥™ì— ëŒ€í•´ ì²˜ë¦¬
            geoData.features.forEach((feature, index) => {
                console.log(`ëŒ€ë¥™ ${index + 1} ì²˜ë¦¬ ì¤‘:`, feature.properties);
                
                const continentId = feature.properties.id;
                const continentName = continentNames[continentId] || feature.properties['en-name'];
                const color = continentColors[continentId] || '#ccc';
                
                // SVG path ìš”ì†Œ ìƒì„±
                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                path.setAttribute('d', coordinatesToPath(feature.geometry.coordinates));
                path.setAttribute('class', `continent ${continentId}`);
                path.setAttribute('data-continent', continentId);
                path.style.fill = color;
                
                // í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
                path.addEventListener('click', () => selectContinent(continentId));
                
                svg.appendChild(path);
                
                // ë²”ë¡€ ì•„ì´í…œ ìƒì„±
                const legendItem = document.createElement('div');
                legendItem.className = 'legend-item';
                legendItem.setAttribute('data-continent', continentId);
                legendItem.innerHTML = `
                    <div class="legend-color" style="background-color: ${color};"></div>
                    <span class="legend-text">${continentName}</span>
                `;
                
                // ë²”ë¡€ í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
                legendItem.addEventListener('click', () => selectContinent(continentId));
                
                legendContainer.appendChild(legendItem);
            });
            
            console.log('ëª¨ë“  ëŒ€ë¥™ ìƒì„± ì™„ë£Œ!');
        }

        // ëŒ€ë¥™ ì„ íƒ í•¨ìˆ˜
        function selectContinent(continentId) {
            console.log('ëŒ€ë¥™ ì„ íƒ:', continentId);
            
            // ì´ì „ ì„ íƒ í•´ì œ
            document.querySelectorAll('.continent.selected').forEach(el => {
                el.classList.remove('selected');
            });
            document.querySelectorAll('.legend-item.selected').forEach(el => {
                el.classList.remove('selected');
            });
            document.querySelectorAll('.continent-info.active').forEach(el => {
                el.classList.remove('active');
            });
            
            // ê¸°ë³¸ ì •ë³´ ìˆ¨ê¸°ê¸°
            document.querySelector('.default-info').style.display = 'none';
            
            // ìƒˆë¡œìš´ ì„ íƒ ì ìš©
            const continentElement = document.querySelector(`[data-continent="${continentId}"].continent`);
            const legendElement = document.querySelector(`[data-continent="${continentId}"].legend-item`);
            const infoElement = document.getElementById(continentId);
            
            if (continentElement) continentElement.classList.add('selected');
            if (legendElement) legendElement.classList.add('selected');
            if (infoElement) infoElement.classList.add('active');
            
            selectedContinent = continentId;
            
            // ì„ íƒëœ ëŒ€ë¥™ìœ¼ë¡œ ë¶€ë“œëŸ½ê²Œ ìŠ¤í¬ë¡¤
            if (infoElement) {
                infoElement.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì§€ë„ ë¡œë“œ
        document.addEventListener('DOMContentLoaded', function() {
            console.log('í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ, ì§€ë„ ë¡œë”© ì‹œì‘...');
            loadMap();
        });
    </script>
</body>
</html>